[gd_scene load_steps=16 format=2]

[ext_resource path="res://world_tileset.tres" type="TileSet" id=1]
[ext_resource path="res://Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://pass_through_tileset.tres" type="TileSet" id=3]
[ext_resource path="res://assets/background/set2_background.png" type="Texture" id=4]
[ext_resource path="res://assets/background/set2_tiles.png" type="Texture" id=5]
[ext_resource path="res://Coin.tscn" type="PackedScene" id=6]
[ext_resource path="res://assets/coin/gold_1.png" type="Texture" id=7]
[ext_resource path="res://assets/fonts/BalsamiqSans-Bold.ttf" type="DynamicFontData" id=8]
[ext_resource path="res://HUD.gd" type="Script" id=9]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 192, 32.5 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 96, 32 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 876.625, 53 )

[sub_resource type="StyleBoxFlat" id=4]
bg_color = Color( 0, 0, 0, 0.235294 )
corner_radius_top_left = 20
corner_radius_top_right = 20
corner_radius_bottom_right = 20
corner_radius_bottom_left = 20

[sub_resource type="DynamicFont" id=5]
size = 52
font_data = ExtResource( 8 )

[sub_resource type="DynamicFont" id=6]
size = 52
font_data = ExtResource( 8 )

[node name="Level1" type="Node2D"]

[node name="Tiles One-Way" type="TileMap" parent="."]
tile_set = ExtResource( 3 )
collision_layer = 2
collision_mask = 49
format = 1
tile_data = PoolIntArray( -1310715, 1, 0, -1310714, 2, 0, -1310713, 2, 0, -1310712, 2, 0, -1310711, 2, 0, -1310710, 3, 0, -1245179, 0, 0, -1245178, 0, 0, -1245177, 0, 0, -1245176, 0, 0, -1245175, 0, 0, -1245174, 0, 0, -1179643, 0, 0, -1179642, 0, 0, -1179641, 0, 0, -1179640, 0, 0, -1179639, 0, 0, -1179638, 0, 0, -1114107, 0, 0, -1114106, 0, 0, -1114105, 0, 0, -1114104, 0, 0, -1114103, 0, 0, -1114102, 0, 0, -1048571, 2, 0, -1048570, 2, 0, -1048569, 2, 0, -1048568, 2, 0, -1048567, 2, 0, -1048566, 2, 0, -983035, 0, 0, -983034, 0, 0, -983033, 0, 0, -983032, 0, 0, -983031, 0, 0, -983030, 0, 0, -917499, 0, 0, -917498, 0, 0, -917497, 0, 0, -917496, 0, 0, -917495, 0, 0, -917494, 0, 0, -851963, 0, 0, -851962, 0, 0, -851961, 0, 0, -851960, 0, 0, -851959, 0, 0, -851958, 0, 0, -786427, 2, 0, -786426, 2, 0, -786425, 2, 0, -786424, 2, 0, -786423, 2, 0, -786422, 2, 0, -720891, 0, 0, -720890, 0, 0, -720889, 0, 0, -720888, 0, 0, -720887, 0, 0, -720886, 0, 0, -655355, 0, 0, -655354, 0, 0, -655353, 0, 0, -655352, 0, 0, -655351, 0, 0, -655350, 0, 0, -589819, 0, 0, -589818, 0, 0, -589817, 0, 0, -589816, 0, 0, -589815, 0, 0, -589814, 0, 0, -524283, 2, 0, -524282, 2, 0, -524281, 2, 0, -524280, 2, 0, -524279, 2, 0, -524278, 2, 0, -458747, 0, 0, -458746, 0, 0, -458745, 0, 0, -458744, 0, 0, -458743, 0, 0, -458742, 0, 0, -393211, 0, 0, -393210, 0, 0, -393209, 0, 0, -393208, 0, 0, -393207, 0, 0, -393206, 0, 0, -327675, 0, 0, -327674, 0, 0, -327673, 0, 0, -327672, 0, 0, -327671, 0, 0, -327670, 0, 0, -262139, 2, 0, -262138, 2, 0, -262137, 2, 0, -262136, 2, 0, -262135, 2, 0, -262134, 2, 0, -196603, 0, 0, -196602, 0, 0, -196601, 0, 0, -196600, 0, 0, -196599, 0, 0, -196598, 0, 0, -131067, 0, 0, -131066, 0, 0, -131065, 0, 0, -131064, 0, 0, -131063, 0, 0, -131062, 0, 0, -65531, 0, 0, -65530, 0, 0, -65529, 0, 0, -65528, 0, 0, -65527, 0, 0, -65526, 0, 0, 5, 1, 0, 6, 2, 0, 7, 2, 0, 8, 2, 0, 9, 2, 0, 10, 3, 0, 65541, 0, 0, 65542, 0, 0, 65543, 0, 0, 65544, 0, 0, 65545, 0, 0, 65546, 0, 0, 131077, 0, 0, 131078, 0, 0, 131079, 0, 0, 131080, 0, 0, 131081, 0, 0, 131082, 0, 0, 196613, 2, 0, 196614, 2, 0, 196615, 2, 0, 196616, 0, 0, 196617, 0, 0, 196618, 0, 0, 262149, 0, 0, 262150, 0, 0, 262151, 0, 0, 262152, 0, 0, 262153, 0, 0, 262154, 0, 0, 327685, 0, 0, 327686, 0, 0, 327687, 0, 0, 327688, 0, 0, 327689, 0, 0, 327690, 0, 0 )

[node name="StaticBody2D" type="StaticBody2D" parent="Tiles One-Way"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Tiles One-Way/StaticBody2D"]
position = Vector2( 512, 32.5 )
shape = SubResource( 1 )
one_way_collision = true

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Tiles One-Way/StaticBody2D"]
position = Vector2( 512, -224 )
shape = SubResource( 1 )
one_way_collision = true

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Tiles One-Way/StaticBody2D"]
position = Vector2( 512, -480 )
shape = SubResource( 1 )
one_way_collision = true

[node name="CollisionShape2D5" type="CollisionShape2D" parent="Tiles One-Way/StaticBody2D"]
position = Vector2( 512, -736 )
shape = SubResource( 1 )
one_way_collision = true

[node name="CollisionShape2D6" type="CollisionShape2D" parent="Tiles One-Way/StaticBody2D"]
position = Vector2( 512, -992 )
shape = SubResource( 1 )
one_way_collision = true

[node name="CollisionShape2D7" type="CollisionShape2D" parent="Tiles One-Way/StaticBody2D"]
position = Vector2( 512, -1248 )
shape = SubResource( 1 )
one_way_collision = true

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Tiles One-Way/StaticBody2D"]
position = Vector2( 416, 224 )
shape = SubResource( 2 )
one_way_collision = true

[node name="Tiles Solid" type="TileMap" parent="."]
tile_set = ExtResource( 1 )
collision_layer = 2
collision_mask = 49
format = 1
tile_data = PoolIntArray( -1179624, 4, 0, -1179623, 2, 0, -1179622, 2, 0, -1179621, 5, 0, -983011, 4, 0, -983010, 2, 0, -983009, 2, 0, -983008, 5, 0, -786408, 4, 0, -786407, 2, 0, -786406, 2, 0, -786405, 5, 0, -589795, 4, 0, -589794, 2, 0, -589793, 2, 0, -589792, 5, 0, -393192, 4, 0, -393191, 2, 0, -393190, 2, 0, -393189, 5, 0, -196579, 4, 0, -196578, 2, 0, -196577, 2, 0, -196576, 5, 0, -65512, 4, 0, -65511, 2, 0, -65510, 2, 0, -65509, 5, 0, 0, -1610612735, 0, 65536, -1610612734, 0, 65553, 4, 0, 65554, 2, 0, 65555, 2, 0, 65556, 2, 0, 65557, 5, 0, 65565, 4, 0, 65566, 2, 0, 65567, 2, 0, 65568, 5, 0, 131072, -1610612734, 0, 196608, -1610612734, 0, 196620, 4, 0, 196621, 2, 0, 196622, 2, 0, 196623, 5, 0, 196642, 4, 0, 196643, 2, 0, 196644, 2, 0, 196645, 5, 0, 262144, -1610612734, 0, 327680, -1610612734, 0, 393216, 0, 0, 393217, 2, 0, 393218, 2, 0, 393219, 2, 0, 393220, 2, 0, 393221, 2, 0, 393222, 2, 0, 393223, 2, 0, 393224, 2, 0, 393225, 2, 0, 393226, 2, 0, 393227, 2, 0, 393228, 2, 0, 393229, 2, 0, 393230, 2, 0, 393231, 2, 0, 393232, 2, 0, 393233, 2, 0, 393234, 2, 0, 393235, 2, 0, 393236, 2, 0, 393237, 2, 0, 393245, 2, 0, 393246, 2, 0, 393247, 2, 0, 393248, 2, 0, 393249, 2, 0, 393250, 2, 0, 393251, 2, 0, 393252, 2, 0, 393253, 2, 0, 393254, 2, 0, 393255, 2, 0, 393256, 2, 0, 393257, 3, 0, 458752, -1610612736, 0, 458753, 0, 0, 458754, 0, 0, 458755, 0, 0, 458756, 0, 0, 458757, 0, 0, 458758, 0, 0, 458759, 0, 0, 458760, 0, 0, 458761, 0, 0, 458762, 0, 0, 458763, 0, 0, 458764, 0, 0, 458765, 0, 0, 458766, 0, 0, 458767, 0, 0, 458768, 0, 0, 458769, 0, 0, 458770, 0, 0, 458771, 0, 0, 458772, 0, 0, 458773, 0, 0, 458781, 0, 0, 458782, 0, 0, 458783, 0, 0, 458784, 0, 0, 458785, 0, 0, 458786, 0, 0, 458787, 0, 0, 458788, 0, 0, 458789, 0, 0, 458790, 0, 0, 458791, 0, 0, 458792, 0, 0, 458793, 0, 0 )

[node name="Player" parent="." instance=ExtResource( 2 )]
position = Vector2( 720, 320 )

[node name="Camera2D" type="Camera2D" parent="Player"]
current = true
limit_left = -1000
limit_top = -3000
limit_bottom = 600
drag_margin_h_enabled = true
drag_margin_v_enabled = true

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="Purple Sky" type="ParallaxLayer" parent="ParallaxBackground"]
motion_mirroring = Vector2( 1280, 960 )

[node name="Sprite" type="Sprite" parent="ParallaxBackground/Purple Sky"]
scale = Vector2( 2, 2 )
texture = ExtResource( 4 )
centered = false

[node name="back Blocks" type="ParallaxLayer" parent="ParallaxBackground"]
modulate = Color( 0.945098, 0.262745, 0.054902, 0.890196 )
motion_scale = Vector2( 0.2, 0.2 )
motion_mirroring = Vector2( 2560, 1920 )

[node name="Sprite" type="Sprite" parent="ParallaxBackground/back Blocks"]
scale = Vector2( 4, 4 )
texture = ExtResource( 5 )
centered = false

[node name="middle Blocks" type="ParallaxLayer" parent="ParallaxBackground"]
modulate = Color( 0.392157, 0.901961, 0.0745098, 0.760784 )
motion_scale = Vector2( 0.4, 0.4 )
motion_mirroring = Vector2( 1600, 1200 )

[node name="Sprite" type="Sprite" parent="ParallaxBackground/middle Blocks"]
scale = Vector2( 2.5, 2.5 )
texture = ExtResource( 5 )
centered = false

[node name="nearbyBlocks" type="ParallaxLayer" parent="ParallaxBackground"]
modulate = Color( 0.0901961, 0.0823529, 0.890196, 0.533333 )
motion_scale = Vector2( 0.7, 0.7 )
motion_mirroring = Vector2( 1120, 840 )

[node name="Sprite" type="Sprite" parent="ParallaxBackground/nearbyBlocks"]
scale = Vector2( 1.75, 1.75 )
texture = ExtResource( 5 )
centered = false

[node name="Fallzone" type="Area2D" parent="."]
collision_layer = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Fallzone"]
position = Vector2( 1779.38, 800 )
scale = Vector2( 2.94823, 1.38187 )
shape = SubResource( 3 )

[node name="HUD" type="CanvasLayer" parent="."]
script = ExtResource( 9 )

[node name="Panel" type="Panel" parent="HUD"]
anchor_left = 0.219
anchor_top = 0.027
anchor_right = 0.434
anchor_bottom = 0.16
margin_left = -204.256
margin_top = 3.8
margin_right = -204.416
margin_bottom = 3.99999
custom_styles/panel = SubResource( 4 )

[node name="TextureRect" type="TextureRect" parent="HUD"]
anchor_left = 0.234
anchor_top = 0.053
anchor_right = 0.234
anchor_bottom = 0.053
margin_left = -207.616
margin_top = 2.2
margin_right = -159.616
margin_bottom = 50.2
texture = ExtResource( 7 )
expand = true

[node name="x" type="Label" parent="HUD"]
anchor_left = 0.297
anchor_top = 0.027
anchor_right = 0.297
anchor_bottom = 0.027
margin_left = -208.128
margin_top = 8.8
margin_right = -185.128
margin_bottom = 71.8
custom_colors/font_color = Color( 1, 0.8, 0.113725, 1 )
custom_fonts/font = SubResource( 5 )
text = "x"
valign = 1

[node name="Coins" type="Label" parent="HUD"]
anchor_left = 1.826
anchor_right = 1.826
margin_left = -1731.82
margin_top = 29.0
margin_right = -1665.82
margin_bottom = 92.0
custom_colors/font_color = Color( 1, 0.8, 0.113725, 1 )
custom_fonts/font = SubResource( 6 )
text = "##"
valign = 1

[node name="Coins" type="Node2D" parent="."]

[node name="Coin" parent="Coins" instance=ExtResource( 6 )]
position = Vector2( 416, 128 )

[node name="Coin2" parent="Coins" instance=ExtResource( 6 )]
position = Vector2( 512, -64 )

[node name="Coin3" parent="Coins" instance=ExtResource( 6 )]
position = Vector2( 512, -320 )

[node name="Coin4" parent="Coins" instance=ExtResource( 6 )]
position = Vector2( 512, -576 )

[node name="Coin5" parent="Coins" instance=ExtResource( 6 )]
position = Vector2( 512, -832 )

[node name="Coin6" parent="Coins" instance=ExtResource( 6 )]
position = Vector2( 512, -1088 )

[node name="Coin7" parent="Coins" instance=ExtResource( 6 )]
position = Vector2( 384, -1344 )

[node name="Coin8" parent="Coins" instance=ExtResource( 6 )]
position = Vector2( 512, -1344 )

[node name="Coin9" parent="Coins" instance=ExtResource( 6 )]
position = Vector2( 624, -1344 )

[connection signal="body_entered" from="Fallzone" to="Player" method="_on_Fallzone_body_entered"]
[connection signal="coin_collected" from="Coins/Coin" to="HUD" method="_on_Coin_coin_collected"]
[connection signal="coin_collected" from="Coins/Coin2" to="HUD" method="_on_Coin_coin_collected"]
[connection signal="coin_collected" from="Coins/Coin3" to="HUD" method="_on_Coin_coin_collected"]
[connection signal="coin_collected" from="Coins/Coin4" to="HUD" method="_on_Coin_coin_collected"]
[connection signal="coin_collected" from="Coins/Coin5" to="HUD" method="_on_Coin_coin_collected"]
[connection signal="coin_collected" from="Coins/Coin6" to="HUD" method="_on_Coin_coin_collected"]
[connection signal="coin_collected" from="Coins/Coin7" to="HUD" method="_on_Coin_coin_collected"]
[connection signal="coin_collected" from="Coins/Coin8" to="HUD" method="_on_Coin_coin_collected"]
[connection signal="coin_collected" from="Coins/Coin9" to="HUD" method="_on_Coin_coin_collected"]
